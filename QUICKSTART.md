# 快速开始指南

## 第一步：编译程序

```bash
go build -o weibo-sender
```

## 第二步：运行程序

```bash
./weibo-sender
```

## 完整使用流程示例

### 1. 首次登录（仅第一次需要）

```
===========================================
       微博群消息发送工具
===========================================

未检测到登录信息，需要先登录微博...

即将打开浏览器，请完成登录...
按回车键继续...
```

按回车后：
- 自动打开 Chrome 浏览器
- 在浏览器中登录微博账号
- 登录成功后程序自动获取 Cookie
- Cookie 保存到 `~/.weibo-sender/config.json`

### 2. 搜索群组

```
✓ 已检测到登录信息

===========================================
请输入群组名称关键词: 测试

正在搜索群组...

找到 2 个群组：
-------------------------------------------
1. 测试下 (ID: 5235468144739455)
2. 测试群组2 (ID: 5235468144739456)
-------------------------------------------
```

### 3. 选择群组

**选择单个群组：**
```
请选择要发送的群组（多个用逗号分隔，如: 1,2,3 或输入 all 选择全部）: 1
```

**选择多个群组：**
```
请选择要发送的群组（多个用逗号分隔，如: 1,2,3 或输入 all 选择全部）: 1,2
```

**选择全部群组：**
```
请选择要发送的群组（多个用逗号分隔，如: 1,2,3 或输入 all 选择全部）: all
```

### 4. 输入消息并发送

```
已选择 2 个群组：
  - 测试下
  - 测试群组2

请输入要发送的消息内容: 大家好，这是一条测试消息

===========================================
开始向 2 个群组发送消息...
===========================================

[1/2] 正在向 '测试下' 发送消息... ✓ 成功
      等待 2s 后继续...

[2/2] 正在向 '测试群组2' 发送消息... ✓ 成功

===========================================
发送完成！
成功: 2 个群组
失败: 0 个群组
===========================================
```

## 重新登录

如果 Cookie 过期，删除配置文件后重新运行程序即可：

```bash
rm ./config.json
./weibo-sender
```

## 配置文件位置

配置文件保存在：`./config.json`

配置文件示例：
```json
{
  "cookies": {
    "SCF": "Ap_VPb251",
    "SUB": "_2A25EGR",
    "SUBP": "0033WrSXq",
    "ALF": "02_1766127819",
    "_s_tentry": "weibo.com",
    "Apache": "371285736406.",
    "SINAGLOBAL": "371285736406.8312.",
    "ULV": "1763537092151:1:1:.1763537092150:"
  },
  "source": ""
}
```

## 故障排除

### 问题：编译失败
**解决方案**：
```bash
go mod download
go build -o weibo-sender
```

### 问题：找不到 Chrome 浏览器
**解决方案**：确保已安装 Chrome 浏览器

### 问题：登录后无法获取 Cookie
**解决方案**：
1. 确保完全登录成功
2. 等待页面完全加载
3. 不要手动关闭浏览器，让程序自动处理

### 问题：发送消息失败（401/403 错误）
**解决方案**：Cookie 已过期，选择 "2. 重新登录"

## 注意事项

1. **安全性**：配置文件包含敏感的登录信息，请妥善保管
2. **使用频率**：请勿频繁发送消息，避免被微博限制
3. **合规使用**：请遵守微博的使用条款和相关法律法规

